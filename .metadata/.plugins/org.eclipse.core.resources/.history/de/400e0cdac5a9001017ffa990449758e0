package com.university.lms.entity;

import jakarta.persistence.*;
import java.util.Objects;

@Entity
@Table(name = "evaluation_grades")
@IdClass(EvaluationGradeId.class)
public class EvaluationGradeDTO {
    @Id
    @Column(name = "evaluation_id")
    private Long evaluationId;

    @Id
    @Column(name = "user_id")
    private Long userId;

    @Column(name = "grade")
    private Double grade;

    public EvaluationGradeDTO() {}

    public EvaluationGradeDTO(Long evaluationId, Long userId, Double grade) {
        this.evaluationId = evaluationId;
        this.userId = userId;
        this.grade = grade;
    }

    public Long getEvaluationId() { return evaluationId; }
    public void setEvaluationId(Long evaluationId) { this.evaluationId = evaluationId; }
    public Long getUserId() { return userId; }
    public void setUserId(Long userId) { this.userId = userId; }
    public Double getGrade() { return grade; }
    public void setGrade(Double grade) { this.grade = grade; }
}

class EvaluationGradeId implements java.io.Serializable {
    private Long evaluationId;
    private Long userId;

    public Long getEvaluationId() { return evaluationId; }
    public void setEvaluationId(Long evaluationId) { this.evaluationId = evaluationId; }
    public Long getUserId() { return userId; }
    public void setUserId(Long userId) { this.userId = userId; }

    @Override
    public boolean equals(Object o) {
        if (this == o) return true;
        if (o == null || getClass() != o.getClass()) return false;
        EvaluationGradeId that = (EvaluationGradeId) o;
        return evaluationId.equals(that.evaluationId) && userId.equals(that.userId);
    }

    @Override
    public int hashCode() {
        return Objects.hash(evaluationId, userId);
    }
}